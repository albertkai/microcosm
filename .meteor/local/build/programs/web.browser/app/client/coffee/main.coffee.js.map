)]}'
{"version":3,"file":"/client/coffee/main.coffee.js","sources":["main.coffee"],"names":[],"mappings":";AAAA,OAAO,CAAC,GAAR,CAAY,aAAZ,EAA2B,KAA3B;;IAEC,IAAD,GAAO,SAAC,EAAD;SACL,OAAO,CAAC,GAAR,CAAY,EAAZ,EADK;CAFP;;MAYM,CAAC,SAAP,CAAiB,IAAjB,CAZA;;OAcO,CAAC,GAAR,CAAY,WAAZ,EAAyB,KAAzB,CAdA;;QAuBQ,CAAC,EAAE,CAAC,MAAZ,CAAmB;EACjB,oBAAoB;IAClB,UAAU,CAAC,YAAD,EAAe,eAAf,EAAgC,OAAhC,EAAyC,eAAzC,EAA0D,YAA1D,EAAwE,eAAxE,EAAyF,eAAzF,EAA0G,gBAA1G,EAA4H,aAA5H,EAA2I,oBAA3I,CADQ;GADH;CAAnB,CAvBA;;QAgCQ,CAAC,UAAU,CAAC,QAApB,GAA+B;AAE7B,MAAI,uBAAJ;EAEA,QAAS,UAAT,GAAyB,iBAAa,aAAb,CAFzB;EAGA,QAAS,UAAS,CAAC,QAAnB,CAA4B,SAA5B,CAHA;EAIA,QAAS,UAAS,CAAC,WAAnB,CAA+B,EAA/B,CAJA;EAKA,QAAS,UAAS,CAAC,UAAnB,CAA8B,EAA9B,CALA;EAMA,QAAS,UAAS,CAAC,QAAnB,CAA4B,CAA5B,CANA;EAOA,QAAS,UAAS,CAAC,MAAnB,CAA0B,EAA1B,CAPA;SAQA,EAAE,MAAF,CAAS,CAAC,MAAV,CAAiB;AACf,QAAG,EAAE,MAAF,CAAS,CAAC,SAAV,KAAwB,GAAxB,IAAgC,EAAC,CAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,UAArB,CAApC;aACE,EAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,UAArB,EADF;WAEK,IAAG,EAAE,MAAF,CAAS,CAAC,SAAV,KAAwB,GAAxB,IAAgC,EAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,UAArB,CAAnC;aACH,EAAE,QAAF,CAAW,CAAC,WAAZ,CAAwB,UAAxB,EADG;KAHU;GAAjB,EAV6B;CAhC/B;;QAiDQ,CAAC,UAAU,CAAC,MAApB,CAA2B;EAEzB,gBAAgB;WACd,EAAE,YAAF,CAAe,CAAC,QAAhB,CAAyB,KAAzB,EAAgC,GAAhC,EADc;GAFS;EAKzB,sBAAsB,SAAC,CAAD;AAEpB,KAAC,CAAC,cAAF;AACA,QAAG,EAAE,YAAF,CAAe,CAAC,QAAhB,CAAyB,cAAzB,CAAH;AACE,QAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,cAA5B;MACA,EAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,uBAA5B,CADA;aAEA,KAAK,CAAC,YAAN,GAHF;;AAKE,QAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,uBAA5B;MACA,EAAE,YAAF,CAAe,CAAC,QAAhB,CAAyB,cAAzB,CADA;aAEA,KAAK,CAAC,aAAN,GAPF;KAHoB;GALG;EAiBzB,+BAA+B,SAAC,CAAD;AAE7B,KAAC,CAAC,cAAF;AACA,QAAG,EAAE,YAAF,CAAe,CAAC,QAAhB,CAAyB,uBAAzB,CAAH;AACE,QAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,cAA5B;MACA,EAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,uBAA5B,CADA;aAEA,KAAK,CAAC,YAAN,GAHF;;AAKE,QAAE,YAAF,CAAe,CAAC,QAAhB,CAAyB,uBAAzB;MACA,EAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,cAA5B,CADA;aAEA,KAAK,CAAC,aAAN,GAPF;KAH6B;GAjBN;EA6BzB,iBAAiB,SAAC,CAAD;AAEf,KAAC,CAAC,cAAF;WACA,QAAQ,CAAC,MAAT,GAHe;GA7BQ;EAkCzB,yEAAyE;AAEvE,MAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,cAA5B;IACA,EAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,uBAA5B,CADA;WAEA,KAAK,CAAC,YAAN,GAJuE;GAlChD;EAwCzB,wBAAwB,SAAC,CAAD;AAEtB,KAAC,CAAC,cAAF;WACA,QAAQ,CAAC,KAAK,CAAC,IAAf,GAHsB;GAxCC;CAA3B,CAjDA;;EAqGE,CAAC,IAAI,CAAC,aAAR,GAAwB,uCArGxB;A","sourcesContent":["Session.set('usersLoaded', false)\n\n@log = (el)->\n  console.log(el)\n\n#Meteor.call 'getLocale', (err, res)->\n#  if err\n#    log err\n#  else\n#    log res\n\n\nMeteor.setLocale('ru')\n\nSession.set 'mapLoaded', false\n\n#Deps.autorun ->\n#  if Meteor.user() and !Session.get('usersLoaded')\n#    log 'deps worked!'\n#    Session.set('usersLoaded', true)\n##    Router.go '/'\n\n\nAccounts.ui.config {\n  requestPermissions: {\n    facebook: ['user_likes', 'user_birthday', 'email', 'user_location', 'basic_info', 'user_checkins', 'user_hometown', 'user_interests', 'user_photos', 'user_relationships']\n  }\n}\n\n\n\n#Init loader\nTemplate.mainLayout.rendered = ->\n\n  log 'Main layout rendering'\n\n  MainCtrl['loader'] = new CanvasLoader('main-loader')\n  MainCtrl['loader'].setColor('#ffffff')\n  MainCtrl['loader'].setDiameter(56)\n  MainCtrl['loader'].setDensity(66)\n  MainCtrl['loader'].setRange(1)\n  MainCtrl['loader'].setFPS(51)\n  $(window).scroll ->\n    if $('body').scrollTop() > 900 and !$('#go-up').hasClass('_visible')\n      $('#go-up').addClass '_visible'\n    else if $('body').scrollTop() < 900 and $('#go-up').hasClass('_visible')\n      $('#go-up').removeClass '_visible'\n\n\nTemplate.mainLayout.events {\n\n  'click #go-up': ->\n    $('.main-wrap').scrollTo '0px', 600\n\n  'click .menu-toggle': (e)->\n\n    e.preventDefault()\n    if $('.main-wrap').hasClass '_menu-opened'\n      $('.main-wrap').removeClass '_menu-opened'\n      $('.main-wrap').removeClass '_notifications-opened'\n      utils.enableScroll()\n    else\n      $('.main-wrap').removeClass '_notifications-opened'\n      $('.main-wrap').addClass '_menu-opened'\n      utils.disableScroll()\n\n  'click .notifications-toggle': (e)->\n\n    e.preventDefault()\n    if $('.main-wrap').hasClass '_notifications-opened'\n      $('.main-wrap').removeClass '_menu-opened'\n      $('.main-wrap').removeClass '_notifications-opened'\n      utils.enableScroll()\n    else\n      $('.main-wrap').addClass '_notifications-opened'\n      $('.main-wrap').removeClass '_menu-opened'\n      utils.disableScroll()\n\n  'click .logout': (e)->\n\n    e.preventDefault()\n    MainCtrl.logout()\n\n  'click .main-wrap._menu-opened, click .main-wrap._notifications-opened': ->\n\n    $('.main-wrap').removeClass '_menu-opened'\n    $('.main-wrap').removeClass '_notifications-opened'\n    utils.enableScroll()\n\n  'click #open-settings': (e)->\n\n    e.preventDefault()\n    MainCtrl.modal.open()\n\n\n}\n\n\n\n\n\nUI.body.cloudfrontUrl = 'http://d1jfn2lab933y3.cloudfront.net/'\n\n\n\n\n"]}