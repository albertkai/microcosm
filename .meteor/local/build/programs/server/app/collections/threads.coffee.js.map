{"version":3,"file":"/collections/threads.coffee.js","sources":["threads.coffee"],"names":[],"mappings":";AAAA,IAAC,QAAD,GAAe,UAAM,CAAC,UAAP,CAAkB,SAAlB,CAAf;;OASO,CAAC,KAAK,CAAC,MAAd,CAAqB,SAAC,MAAD,EAAS,GAAT,EAAc,UAAd,EAA0B,QAA1B,EAAoC,OAApC;AAEnB,MAAG,QAAQ,CAAC,KAAZ;WACE,MAAM,CAAC,IAAP,CAAY,uBAAZ,EAAqC,MAArC,EAA6C,GAA7C,EAAkD,UAAlD,EAA8D,QAA9D,EAAwE,OAAxE,EADF;GAFmB;CAArB,CATA;;IAkBC,cAAD,GAAqB,UAAM,CAAC,MAAP,CAAc,eAAd,CAlBrB;;AAoBA,IAAG,MAAM,CAAC,QAAV;AACE,eAAa,CAAC,EAAd,CAAiB,MAAM,CAAC,MAAP,EAAjB,EAAkC,SAAC,EAAD;WAChC,YAAY,CAAC,KAAK,CAAC,aAAnB,CAAiC,EAAjC,EADgC;GAAlC,EADF;CApBA;;AAwBA,IAAG,MAAM,CAAC,QAAV;AACE,eAAa,CAAC,WAAW,CAAC,KAA1B,CAAgC,SAAC,SAAD;AAC9B,QAAG,IAAC,OAAJ;aACE,KADF;KAD8B;GAAhC;EAIA,aAAa,CAAC,WAAW,CAAC,IAA1B,CAA+B,SAAC,SAAD;AAC7B,QAAG,IAAC,OAAD,KAAW,SAAd;aACE,KADF;KAD6B;GAA/B,CAJA,CADF;CAxBA;A","sourcesContent":["@Threads = new Meteor.Collection('threads')\n\n#Permissions\n\n#Schema\n\n\n#Hooks\n\nThreads.after.update (userId, doc, fieldNames, modifier, options)->\n\n  if modifier.$push\n    Meteor.call 'updateUsersThreadsRec', userId, doc, fieldNames, modifier, options\n\n\n\n#Streams\n\n@ThreadsStream = new Meteor.Stream('threadsStream')\n\nif Meteor.isClient\n  ThreadsStream.on Meteor.userId(), (id)->\n    MessagesCtrl.utils.notifyWriting(id)\n\nif Meteor.isServer\n  ThreadsStream.permissions.write (eventName)->\n    if @userId\n      true\n\n  ThreadsStream.permissions.read (eventName)->\n    if @userId is eventName\n      true\n"]}